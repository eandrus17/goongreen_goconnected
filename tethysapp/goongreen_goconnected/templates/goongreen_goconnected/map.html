{% extends "goongreen_goconnected/base.html" %}
{% load tethys_gizmos %}

{% block header_buttons %}
  <div class="header-button glyphicon-button" data-toggle="tooltip" data-placement="bottom" title="Help">
    <a data-toggle="modal" data-target="#help-modal"><span class="glyphicon glyphicon-question-sign"></span></a>
  </div>
{% endblock %}

{% block app_content %}

<link rel="stylesheet" href="https://js.arcgis.com/4.6/esri/css/main.css">
<script src="https://js.arcgis.com/4.6/"></script>
<script type="text/javascript" src="html2canvas.js"></script>

  <h1>Calculate Connectivity</h1>
<form>

 <!-- <input type="text" id="cityname"/> -->

  <div>
<h3><label id="fromlabel">Select City:</label></h3>
<select id="cityname">
    <option id="Alpine">Alpine</option>
    <option id="Alta">Alta</option>
    <option id="American Fork">American Fork</option>
    <option id="Bluffdale">Bluffdale</option>
    <option id="Cedar Fort">Cedar Fort</option>
    <option id="Cedar Hills">Cedar Hills</option>
    <option id="Cottonwood Heights">Cottonwood Heights</option>
    <option id="Draper">Draper</option>
    <option id="Eagle Mountain">Eagle Mountain</option>
    <option id="Elk Ridge">Elk Ridge</option>
    <option id="Fairfield">Fairfield</option>
    <option id="Genola">Genola</option>
    <option id="Herriman">Herriman</option>
    <option id="Highland">Highland</option>
    <option id="Holladay">Holladay</option>
    <option id="Lehi">Lehi</option>
    <option id="Lindon">Lindon</option>
    <option id="Mapleton">Mapleton</option>
    <option id="Midvale">Midvale</option>
    <option id="Millcreek">Millcreek</option>
    <option id="Murray">Murray</option>
    <option id="Orem">Orem</option>
    <option id="Payson">Payson</option>
    <option id="Pleasant Grove">Pleasant Grove</option>
    <option id="Provo">Provo</option>
    <option id="Riverton">Riverton</option>
    <option id="Salem">Salem</option>
    <option id="Salt Lake City">Salt Lake City</option>
    <option id="Sandy">Sandy</option>
    <option id="Santaquin">Santaquin</option>
    <option id="Saratoga Springs">Saratoga Springs</option>
    <option id="South Jordan">South Jordan</option>
    <option id="South Salt Lake">South Salt Lake</option>
    <option id="Spanish Fork">Spanish Fork</option>
    <option id="Springville">Springville</option>
    <option id="Taylorsville">Taylorsville</option>
    <option id="Vineyard">Vineyard</option>
    <option id="West Jordan">West Jordan</option>
    <option id="West Vally City">West Vally City</option>
    <option id="Woodland Hills">Woodland Hills</option>

  </select>
</div>

</form>
  <input type="button" id="submit" value="Submit"/>
<br>
<label id="Range"></label>
<br>
<label id="IntDen"></label>
<br>
<label id="Buses"></label>

<div id="loading"></div>

<style>
  #viewDiv {
    padding: 0;
    margin: 0;
    height: 600px;
    width: 900px
  }
</style>

<div id="viewDiv"></div>

<br>
<br>

<!--Open Modal for Results Page -->
<button id="resultsBtn" data-toggle="modal" data-target="#resultsModal"> Show me the $$$</button>

{% endblock %}

{# Use the after_app_content block for modals #}
{% block after_app_content %}
   <!-- Help Modal -->
  <div class="modal fade" id="help-modal" tabindex="-1" role="dialog" aria-labelledby="help-modal-label">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h5 class="modal-title" id="help-modal-label">Help</h5>
        </div>
        <div class="modal-body">
          <p>This application calculates a connectivity score for cities in Utah and Salt Lake Counties. THere are three measures used to calculate the score. The first is total elevation change in the city. To calculate the elevation change, enter the city name into box using this syntax:</p>
          <p>"NAME" = 'cityname'</p>
          <p>The second measure is intersection density. Intersection density is calculated using the number of intersections in the city and the area of the city in square miles (intersections/sq. mile).</p>
          <p>To be continued...</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

<div id="resultsModal" class="modal"/>
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>

      </button>
      <h2>Results Page</h2>
    </div>
    <div class="modal-body">
      <p id="CityDisplayName"></p>
      <div id="viewDiv"></div>
      <p id="ConnScore"></p>
      <p>Individual Scores:</p>
      <p id="ElevScore"></p>
      <p id="IntScore"></p>
      <p id="BusScore"></p>

      <!--Export to PDF-->
      <button id="exportBtn">Export to PDF</button>

    </div>
  </div>
</div>
{% endblock %}

{% block app_actions %}
{% endblock %}